<script setup>
import { ref } from 'vue';

// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸(App.vue)ë¡œ ì´ë²¤íŠ¸ë¥¼ ë³´ë‚´ê¸° ìœ„í•´ defineEmitsë¥¼ ì‚¬ìš©
const emit = defineEmits(['menu-changed']);

const activeMenuId = ref('dashboard');
const menuItems = ref([
  { id: 'dashboard', name: 'ëŒ€ì‹œë³´ë“œ', icon: 'ğŸ“Š' },
  { id: 'users', name: 'ì‚¬ìš©ì ê´€ë¦¬', icon: 'ğŸ‘¥' },
  { id: 'products', name: 'ìƒí’ˆ ê´€ë¦¬', icon: 'ğŸ“¦' },
  { id: 'qna', name: 'QnA ê´€ë¦¬', icon: 'ğŸ“' },
  { id: 'settings', name: 'ì„¤ì •', icon: 'âš™ï¸' }
]);

function changeMenu(menuItem) {
  activeMenuId.value = menuItem.id;
  // 'menu-changed'ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ menuItem ê°ì²´ë¥¼ ë¶€ëª¨ì—ê²Œ ë³´ëƒ„
  emit('menu-changed', menuItem);
}
</script>

<template>
  <aside class="sidebar">
    <h2>Admin</h2>
    <nav>
      <ul>
        <li v-for="item in menuItems" :key="item.id">
          <a @click="changeMenu(item)" :class="{ active: item.id === activeMenuId }">
            {{ item.icon }} {{ item.name }}
          </a>
        </li>
      </ul>
    </nav>
  </aside>
</template>

<style scoped>
/* ì´ ìŠ¤íƒ€ì¼ì€ Sidebar.vue ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œë§Œ ì ìš©ë©ë‹ˆë‹¤. */
.sidebar {
  width: 240px;
  background-color: #2c3e50;
  color: #ecf0f1;
  height: 100vh;
  padding: 20px;
}
.sidebar h2 {
  text-align: center;
  margin-bottom: 30px;
  font-size: 1.8em;
}
.sidebar ul {
  list-style: none;
}
.sidebar ul li a {
  display: block;
  color: #ecf0f1;
  text-decoration: none;
  padding: 15px 20px;
  border-radius: 5px;
  margin-bottom: 10px;
  transition: background-color 0.3s;
  cursor: pointer;
}
.sidebar ul li a:hover,
.sidebar ul li a.active {
  background-color: #34495e;
}
</style>